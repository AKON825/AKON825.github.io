<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>約約伴配對系統開發需求規格書</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #007bff;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #6c757d;
            font-size: 1.1em;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.4em;
            font-weight: bold;
        }

        .subsection {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }

        .subsection h3 {
            color: #007bff;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .field-list {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .field-list h4 {
            color: #495057;
            margin-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 5px;
        }

        .field-list ul {
            list-style-type: none;
            padding-left: 0;
        }

        .field-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f8f9fa;
        }

        .field-list li:before {
            content: "▶ ";
            color: #007bff;
            font-weight: bold;
        }

        .process-flow {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .process-flow h4 {
            color: #28a745;
            margin-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 5px;
        }

        .process-flow ol {
            padding-left: 20px;
        }

        .process-flow li {
            padding: 8px 0;
            line-height: 1.5;
        }

        .timeline {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .timeline h4 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .timeline-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #ffeaa7;
        }

        .timeline-item:last-child {
            border-bottom: none;
        }

        .timeline-task {
            flex: 1;
            color: #495057;
        }

        .timeline-duration {
            background: #007bff;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        .highlight {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #2196f3;
            margin: 15px 0;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .tech-item {
            background: #007bff;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .timeline-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>約約伴配對系統</h1>
            <p>開發需求規格書與工時評估</p>
        </div>

        <!-- CRM端開發 -->
        <div class="section">
            <div class="section-title">🏢 CRM端開發需求</div>

            <div class="subsection">
                <h3>📋 配對清單資料表設計</h3>
                <div class="field-list">
                    <h4>資料表結構 (一條RECORD包含一男一女配對資訊)</h4>
                    <ul>
                        <li><strong>男方</strong> - Lookup 欄位</li>
                        <li><strong>女方</strong> - Lookup 欄位</li>
                        <li><strong>男方有意配對</strong> - Boolean 欄位</li>
                        <li><strong>配對是否成功</strong> - Null/Boolean 欄位</li>
                        <li><strong>時間批號</strong> - 格式如 25060201</li>
                    </ul>
                </div>
            </div>

            <div class="subsection">
                <h3>🔄 系統流程設計</h3>
                <div class="process-flow">
                    <h4>配對流程步驟</h4>
                    <ol>
                        <li><strong>資料接口整合</strong><br>
                            • 提供輸入資料API（男女方資料）<br>
                            • 提供輸出資料API（寫入CRM配對清單模組）</li>

                        <li><strong>LINE通知機制</strong><br>
                            • 透過adapter server呼叫API發送LINE配對清單<br>
                            • 支援Flex Message或LIFF頁面展示</li>

                        <li><strong>配對意願處理</strong><br>
                            • 男方在LINE端選擇配對對象<br>
                            • 自動更新"男方有意配對"為true<br>
                            • 觸發workflow直接寫入商機</li>

                        <li><strong>配對結果管理</strong><br>
                            • 人工聯絡安排配對過程<br>
                            • 確認後更新"配對是否成功"欄位</li>

                        <li><strong>訊息模板功能</strong><br>
                            • 樣板訊息編輯器<br>
                            • 廣告圖片切版輪播<br>
                            • 可變數置換的自訂Flex Message</li>
                    </ol>
                </div>
            </div>

            <div class="timeline">
                <h4>⏱️ CRM端開發工時評估</h4>
                <div class="timeline-item">
                    <div class="timeline-task">資料相關流程和模組、workflow設定</div>
                    <div class="timeline-duration">3天</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-task">Flex message置換的CRM widget</div>
                    <div class="timeline-duration">2天</div>
                </div>
            </div>
        </div>

        <!-- Adapter Server端開發 -->
        <div class="section">
            <div class="section-title">⚙️ Adapter Server端開發需求</div>

            <div class="subsection">
                <h3>🖥️ 伺服器架設與配置</h3>
                <div class="highlight">
                    <strong>部署選項：</strong>自架（辦公室電腦）或雲端伺服器（如GCP）
                </div>
                <div class="tech-stack">
                    <span class="tech-item">GCP Cloud</span>
                    <span class="tech-item">LINE Bot</span>
                    <span class="tech-item">LIFF</span>
                    <span class="tech-item">API Gateway</span>
                    <span class="tech-item">Database</span>
                </div>
            </div>

            <div class="subsection">
                <h3>🔐 用戶驗證與綁定</h3>
                <div class="process-flow">
                    <h4>驗證流程</h4>
                    <ol>
                        <li>男性用戶透過LINE@ LIFF驗證email或手機</li>
                        <li>將LINE User ID綁定到CRM系統</li>
                        <li>建立用戶身份識別機制</li>
                    </ol>
                </div>
            </div>

            <div class="subsection">
                <h3>📱 LINE整合功能</h3>
                <div class="process-flow">
                    <h4>主要功能模組</h4>
                    <ol>
                        <li><strong>配對清單展示</strong><br>
                            • CRM配對結果透過server傳送到LINE前端<br>
                            • 支援LIFF頁面或Flex Message展示</li>

                        <li><strong>配對選擇機制</strong><br>
                            • 男性用戶在LINE前端選擇配對目標<br>
                            • 透過URL或API呼叫CRM觸發配對意圖</li>

                        <li><strong>訊息發送API</strong><br>
                            • 提供CRM呼叫的LINE訊息發送功能<br>
                            • 支援配對成功備忘錄（含行程、對方資料等）</li>
                    </ol>
                </div>
            </div>

            <div class="timeline">
                <h4>⏱️ Server端開發工時評估</h4>
                <div class="timeline-item">
                    <div class="timeline-task">GCP帳號開啟、組態設定</div>
                    <div class="timeline-duration">1天</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-task">Server架設（套件安裝、資料庫、自動重啟、log系統）</div>
                    <div class="timeline-duration">2天</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-task">LINE@ LIFF開發（驗證綁定、配對清單頁面）</div>
                    <div class="timeline-duration">4天*</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-task">LINE@專案導入設定</div>
                    <div class="timeline-duration">1天</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-task">API開發（配對清單接收、LINE訊息發送）</div>
                    <div class="timeline-duration">1天</div>
                </div>
            </div>

            <div class="highlight">
                <strong>* 注意事項：</strong>LIFF開發工時會依據頁面美觀要求修改程度而異動<br>
                <strong>** 備註：</strong>不包含複雜Flex Message設計工時
            </div>
        </div>

        <!-- 總結 -->
        <div class="section">
            <div class="section-title">📊 專案總結</div>
            <div class="subsection">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="timeline">
                        <h4>CRM端總工時</h4>
                        <div style="text-align: center; font-size: 2em; color: #007bff; font-weight: bold;">5天</div>
                    </div>
                    <div class="timeline">
                        <h4>Server端總工時</h4>
                        <div style="text-align: center; font-size: 2em; color: #28a745; font-weight: bold;">9天</div>
                    </div>
                </div>
                <div class="timeline" style="background: #d4edda; border-color: #c3e6cb;">
                    <h4 style="color: #155724;">專案總工時</h4>
                    <div style="text-align: center; font-size: 2.5em; color: #155724; font-weight: bold;">14天</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>